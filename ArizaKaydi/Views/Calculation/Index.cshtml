@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
	.main-panel {
		margin-top: 0;
		padding-top: 0;
	}

	.modern-btn {
		min-width: 220px;
		min-height: 80px;
		font-size: 1.5rem;
		font-weight: bold;
		border-radius: 1.5rem;
		box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
		transition: transform 0.15s, box-shadow 0.15s;
		margin: 1.5rem;
	}

		.modern-btn:hover {
			transform: translateY(-4px) scale(1.04);
			box-shadow: 0 16px 40px 0 rgba(31, 38, 135, 0.25);
		}

		.modern-btn i {
			margin-right: 0.7rem;
		}

		.modern-btn.mttr {
			background: linear-gradient(90deg, #ff758c 0%, #ff7eb3 100%);
			color: #fff;
			border: none;
		}

		.modern-btn.mtbf {
			background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%);
			color: #fff;
			border: none;
		}

	@@media (max-width: 600px) {
		.modern-btn {
			min-width: 140px;
			min-height: 60px;
			font-size: 1.1rem;
		}
	}
</style>
<div class="main-panel">
	<div class="content-wrapper d-flex flex-column align-items-start justify-content-start" style="min-height: 80vh;">
		<div class="card shadow-lg p-5 mt-4 ml-3 d-flex flex-column align-items-center" style="background: rgba(30,32,43,0.98); border-radius: 2rem; min-width: 370px; max-width: 650px; width: 100%;">
			<h4 class="mb-4 w-100 text-center" style="color: #fff; font-weight: 700;">MTTR & MTBF Hesaplama</h4>
			<form id="date-range-form" asp-action="Index" asp-controller="Calculation" method="post" class="w-100">
				<div class="row w-100 mb-4 g-3">
					<div class="col-12 col-md-6">
						<label for="start-date" style="color:#fff;font-weight:500;">Başlangıç Tarihi</label>
						<input type="date" class="form-control mb-2" id="start-date" name="StartDate" required>
						<input type="time" class="form-control" id="start-time" name="StartTime" required>
					</div>
					<div class="col-12 col-md-6">
						<label for="end-date" style="color:#fff;font-weight:500;">Bitiş Tarihi</label>
						<input type="date" class="form-control mb-2" id="end-date" name="EndDate" required disabled>
						<input type="time" class="form-control" id="end-time" name="EndTime" required disabled>
					</div>
				</div>
				<div class="row w-100 mt-2">
					<div class="col-12 d-flex flex-column flex-md-row justify-content-between align-items-stretch">
						<button type="submit" name="calculationType" value="MTTR" class="modern-btn mttr flex-fill mr-md-3 mb-3 mb-md-0">
							<i class="mdi mdi-timer-sand"></i> MTTR Hesapla
						</button>
						<button type="submit" name="calculationType" value="MTBF" class="modern-btn mtbf flex-fill ml-md-3">
							<i class="mdi mdi-timer"></i> MTBF Hesapla
						</button>
					</div>
				</div>
			</form>

		</div>

		<style>
			.modern-btn {
				min-width: 180px;
				min-height: 64px;
				font-size: 1.3rem;
				font-weight: bold;
				border-radius: 1.25rem;
				box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
				transition: transform 0.15s, box-shadow 0.15s;
				margin: 0 0.5rem;
				padding: 0.7rem 1rem;
				display: flex;
				align-items: center;
				justify-content: center;
			}

				.modern-btn.mttr {
					background: linear-gradient(90deg, #ff758c 0%, #ff7eb3 100%);
					color: #fff;
					border: none;
				}

				.modern-btn.mtbf {
					background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%);
					color: #fff;
					border: none;
				}

				.modern-btn i {
					margin-right: 0.7rem;
					font-size: 1.6rem;
				}

				.modern-btn:hover {
					transform: translateY(-2px) scale(1.03);
					box-shadow: 0 12px 32px 0 rgba(31, 38, 135, 0.25);
				}

			@@media (max-width: 600px) {
				.modern-btn {
					min-width: 120px;
					min-height: 48px;
					font-size: 1rem;
					border-radius: 0.8rem;
					padding: 0.5rem 0.6rem;
				}

				.card.shadow-lg {
					padding: 1.2rem !important;
					min-width: unset !important;
					max-width: 98vw !important;
				}
			}
		</style>
	</div>

	<script>
		// Başlangıç tarihi seçilmeden bitiş tarihi ve saat aktif olmasın
		const startInput = document.getElementById('start-date');
		const endInput = document.getElementById('end-date');
		const startTimeInput = document.getElementById('start-time');
		const endTimeInput = document.getElementById('end-time');

		function resetEndFields() {
		  endInput.disabled = true;
		  endInput.value = '';
		  endTimeInput.disabled = true;
		  endTimeInput.value = '';
		}

		startInput.addEventListener('change', function() {
		  if (startInput.value) {
			endInput.disabled = false;
			endInput.min = startInput.value;
			// Eğer bitiş tarihi, başlangıçtan önceyse sıfırla
			if (endInput.value && endInput.value < startInput.value) {
			  endInput.value = '';
			  endTimeInput.value = '';
			}
			endTimeInput.disabled = !endInput.value;
		  } else {
			resetEndFields();
		  }
		});
		endInput.addEventListener('change', function() {
		  if (endInput.value && startInput.value && endInput.value < startInput.value) {
			alert('Bitiş tarihi, başlangıç tarihinden önce olamaz!');
			endInput.value = '';
			endTimeInput.value = '';
			endTimeInput.disabled = true;
		  } else if (endInput.value) {
			endTimeInput.disabled = false;
		  } else {
			endTimeInput.disabled = true;
			endTimeInput.value = '';
		  }
		});
		// Saat ve dakika validasyonu (tarih aynıysa)
		function validateDateTime() {
		  if (
			startInput.value && endInput.value &&
			startInput.value === endInput.value &&
			startTimeInput.value && endTimeInput.value &&
			endTimeInput.value <= startTimeInput.value
		  ) {
			alert('Bitiş saati, başlangıç saatinden önce olamaz!');
			endTimeInput.value = '';
		  }
		}
		startTimeInput.addEventListener('change', validateDateTime);
		endTimeInput.addEventListener('change', validateDateTime);

			
	</script>
</div>
