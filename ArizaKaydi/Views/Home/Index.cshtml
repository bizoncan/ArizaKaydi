@using EntityLayer.Concrete
@model List<workOrder>
@{
	Layout = "~/Views/Shared/_Layout.cshtml";


}
<style>
	.table td {
		border-top: 0.5px solid #ff0000;
	}
</style>
<div class="row justify-content-center align-items-center">
	<div class="col-xl-3 col-sm-6 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<div class="row">
					<div class="col-9">
						<div class="d-flex align-items-center align-self-start">
							<h3 class="mb-0">@ViewBag.UserCount</h3>

						</div>
					</div>
					<div class="col-3">
						@* <div class="icon icon-box-success ">
							@*<span class="mdi mdi-arrow-top-right icon-item"></span>
						</div> *@
					</div>
				</div>
				<h6 class="text-muted font-weight-normal">Aktif kullanıcı sayısı</h6>
			</div>
		</div>
	</div>
	<div class="col-xl-3 col-sm-6 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<div class="row">
					<div class="col-9">
						<div class="d-flex align-items-center align-self-start">
							<h3 class="mb-0">@ViewBag.WorkOrderCount</h3>

						</div>
					</div>
					<div class="col-3">
						@* <div class="icon icon-box-success">
							@* <span class="mdi mdi-arrow-top-right icon-item"></span> 
						</div> *@
					</div>
				</div>
				<h6 class="text-muted font-weight-normal">Aktif iş emri sayısı</h6>
			</div>
		</div>
	</div>
	@* <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<div class="row">
					<div class="col-9">
						<div class="d-flex align-items-center align-self-start">
							<h3 class="mb-0">@ViewBag.ReportCount</h3>
							<p class="text-danger ml-2 mb-0 font-weight-medium"></p>
						</div>
					</div>
					
				</div>
				<h6 class="text-muted font-weight-normal">Toplam Rapor</h6>
			</div>
		</div>
	</div> *@
	<div class="col-xl-3 col-sm-6 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<div class="row">
					<div class="col-9">
						<div class="d-flex align-items-center align-self-start">
							<h3 class="mb-0">@ViewBag.MeanFinish saat </h3>
							
						</div>
					</div>
					<div class="col-3">
						@* <div class="icon icon-box-success ">
							@* <span class="mdi mdi-arrow-top-right icon-item"></span> 
						</div> *@
					</div>
				</div>
				<h6 class="text-muted font-weight-normal">Ortalama İş Bitirme Süresi</h6>
			</div>
		</div>
	</div>
</div>

<div class="row ">
	<div class="col-12 grid-margin">
		<div class="card" style="box-shadow: 0 0.5rem 1rem 5px rgba(220,53,69,0.15) !important;  background-color:#ffffff !important">
			<div class="card-body" style="background-color:#ffffff">
				<h4 class="card-title" style="color:#dc3545 !important">İş emirleri</h4>
				<div class="table-responsive">
					<table class="table">
						<thead style="background-color:#c82333 !important">
							<tr >
								<th style ="color:#ffffff"> Kullanıcı adı </th>
								<th style="color:#ffffff"> İş emri ID </th>
								<th style="color:#ffffff"> İş emri başlık </th>
								<th style="color:#ffffff"> Makine </th>
								<th style="color:#ffffff"> Makine Parçası </th>
								<th style="color:#ffffff"> İş emri başlangıç tarihi</th>
								<th style="color:#ffffff"> İş emri durumu </th>
							</tr>
						</thead>
						<tbody>
							@foreach(var i in Model)
								{
							<tr>
								
									<td>
										<!--<img src="assets/images/faces/face1.jpg" alt="image" />-->
										<span class="pl-2" style="color:#c82333">@(i.userI?.UserName ?? "Kullanıcı bulunamadı")</span>
									</td>
									<td style="color:#c82333"> @i.id </td>
									<td style="color:#c82333"> @i.title </td>
									<td style="color:#c82333"> @(i.machine?.name ?? "Makine bilgisi yok") </td>
									<td style="color:#c82333"> @(i.machinePart?.name ?? "Makine parçası bilgisi yok") </td>
									<td style="color:#c82333"> @i.workOrderStartDate </td>
									<td>
										@if (i.isClosed)
										{
											<div class="badge badge-outline-success">Tamamlandı</div>
										}
										else
										{
											<div class="badge badge-outline-danger">Tamamlanmadı</div>
										}
									</td>
						
								
                            </tr>
							}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>